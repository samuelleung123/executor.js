var l=Object.defineProperty;var r=(e,t)=>l(e,"name",{value:t,configurable:!0});function n(e){return new Promise(t=>setTimeout(t,e))}r(n,"async_timeout");var a=new Map,u=new Map,i=new Map,m=r(async function(e,t){if(f(e),!a.has(e)){u.delete(e),a.set(e,t),await n();let o=await t();u.set(e,o)}for(;;){if(u.has(e)){let o=u.get(e);return x(e),o}await n()}},"execute_once"),f=r(function(e){let t=i.get(e)||0;t++,i.set(e,Math.max(0,t))},"increase"),x=r(function(e){let t=i.get(e)||0;t--,i.set(e,Math.max(0,t)),t===0&&(u.delete(e),a.delete(e))},"decrease");var _=r(async function(e){let t=!1,o=r(()=>{t=!0},"breaker");for(;;){let s=await e(o);if(s!==void 0)return s;if(t)break;await n()}},"execute_forever");var p=r(async function(e,t,o=!0){let s=[];for(let c=0;c<e;c++)s.push(await t(c)),o&&await n();return s},"execute_times");export{_ as execute_forever,m as execute_once,p as execute_times};
//# sourceMappingURL=executor.esm.min.js.map
